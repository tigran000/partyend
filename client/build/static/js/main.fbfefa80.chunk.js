(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{134:function(e,t,a){e.exports=a(237)},165:function(e,t,a){},214:function(e,t,a){},237:function(e,t,a){"use strict";a.r(t);for(var n=a(1),r=a.n(n),l=a(7),o=a.n(l),i=a(20),s=a(21),c=a(24),u=a(22),h=a(25),m=a(241),p=a(96),d=a.n(p),g=a(121),f=a(122),E=a.n(f),y=a(248),w=a(162),v=a(31),b=a.n(v),k=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).responseFacebook=function(){var e=Object(g.a)(d.a.mark(function e(t){var n,r,l;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.id){e.next=8;break}return n={name:t.name,email:t.email,picture:t.picture,_id:t.userID},e.next=4,b.a.post("http://localhost:3001/api/login",{user:n});case 4:r=e.sent,l=r.data.token,localStorage.setItem("token",l),a.props.history.push("/dashboard");case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return localStorage.getItem("token")?r.a.createElement(y.a,{to:"/dashboard"}):r.a.createElement(E.a,{appId:"2274361302637500",autoLoad:!1,fields:"name,email,picture",callback:this.responseFacebook})}}]),t}(n.Component),P=Object(w.a)(k),j=a(246),O=a(243),S=a(13),x=a(238),C=a(240),I=(a(163),a(165),a(245)),N="http://localhost:3001/api/wishlist/",B=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={showWishInput:!1,value:"",wishlist:a.props.wishlist},a.wishInputHandler=function(){var e="Bearer ".concat(localStorage.getItem("token"));b.a.post(N,{value:a.state.value},{headers:{Authorization:e}}).then(function(e){a.setState({wishlist:e.data,value:""})})},a.handleChange=function(e){a.setState({value:e.target.value})},a.deleteWish=function(e){var t="Bearer ".concat(localStorage.getItem("token"));b.a.delete(N+e,{headers:{Authorization:t}}).then(function(e){a.setState({wishlist:e.data})})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{onChange:this.handleChange,value:this.state.value}),r.a.createElement(x.a,{icon:"plus",type:"primary",onClick:this.wishInputHandler},"Add Wish"),this.state.wishlist?this.state.wishlist.map(function(t){return r.a.createElement("div",{key:t._id},r.a.createElement("h1",null," ",t.value),r.a.createElement(x.a,{type:"danger",icon:"delete",onClick:function(){return e.deleteWish(t._id)}}))}):null)}}]),t}(n.Component),A=function(e){var t=e.partyList,a=e.addParty;return r.a.createElement(n.Fragment,null,t?r.a.createElement("ul",null,t.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("div",{style:{width:"200px",display:"inline-block"}},e.name),r.a.createElement(x.a,{icon:"edit"}),r.a.createElement(x.a,{type:"danger",icon:"delete"}))})):r.a.createElement("p",null,"You have no party yet!"),r.a.createElement(x.a,{type:"primary",onClick:a},"Create A Party"))},W=function(e){var t=e.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:t.url,alt:"profile"}),r.a.createElement("h1",null," Profile Info"),r.a.createElement("h1",null," Name: ",t.name),r.a.createElement("h1",null," Email: ",t.email))},L=a(9),M=a.n(L),F=a(244),D=a(242),H=a(239),_=(a(214),a(79)),z={width:"400px",height:"200px",margin:"2px auto"},U=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={name:"Party locatiion",position:{lat:37.77,lng:-122.42}},a.onMarkerDragEnd=function(e){var t=e.latLng,n=t.lat(),r=t.lng();a.setState({position:{lat:n,lng:r}})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.position,n=t.name;return r.a.createElement("div",null,r.a.createElement(I.a,{className:"input",placeholder:"Address"}),r.a.createElement(I.a,{value:a.lat,onBlur:this.changeLat,className:"input",placeholder:"Lat"}),r.a.createElement(I.a,{value:a.lng,onBlur:this.changeLng,className:"input",placeholder:"Lng"}),r.a.createElement(_.Map,{google:this.props.google,style:z,zoom:14},r.a.createElement(_.Marker,{position:a,draggable:!0,onDragend:function(t,a,n){return e.onMarkerDragEnd(n)},name:n})))}}]),t}(n.Component),J=Object(_.GoogleApiWrapper)({apiKey:"AIzaSyABXOuxZCI3Rmrd5wEEFPEx_jDUGiCEJbw"})(U),G=F.a.Option,K=[],R=10;R<36;R++)K.push(r.a.createElement(G,{key:R.toString(36)+R},R.toString(36)+R));var T=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={emails:[]},a.addEmails=function(e){console.log(e),a.setState({emails:e})},a.sendEmails=function(){b.a.post("/email/send",{emails:a.state.emails})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"popup"},r.a.createElement("div",{className:"popup_inner"},r.a.createElement("form",null,r.a.createElement(I.a,{className:"input",placeholder:"Party Name"}),r.a.createElement("div",{style:{marginBottom:"5px"}},r.a.createElement(D.a,{id:"date",style:{width:"270px"}}),r.a.createElement(H.a,{id:"time",defaultOpenValue:M()("00:00:00","HH:mm:ss")})),r.a.createElement(J,null),r.a.createElement("div",{style:{position:"absolute",bottom:"10px"}},r.a.createElement(F.a,{mode:"multiple",style:{width:"400px",marginBottom:"5px"},placeholder:"Add Wishlist"},K),r.a.createElement(F.a,{mode:"tags",style:{width:"400px",marginBottom:"5px"},placeholder:"Invitees",onChange:this.addEmails},this.props.children),r.a.createElement(x.a,{style:{width:"400px"},type:"primary",icon:"save",onClick:function(){e.sendEmails(),e.props.closePopup()}},"Save")))))}}]),t}(n.Component),V=j.a.Header,X=j.a.Sider,Y=j.a.Content,Z=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={collapsed:!1,showPartyPage:!0,parties:null,headerName:"My Parties",showPopup:!1,user:null},a.toggle=function(){a.setState({collapsed:!a.state.collapsed})},a.togglePopup=function(){a.setState({showPopup:!a.state.showPopup})},a.showProfile=function(){a.setState({showProfilePage:!0,showWishlistPage:!1,showPartyPage:!1,headerName:"My Profile"})},a.showWishlist=function(){a.setState({showWishlistPage:!0,showProfilePage:!1,showPartyPage:!1,headerName:"My Wishlist"})},a.showParties=function(){a.setState({showPartyPage:!0,showWishlistPage:!1,showProfilePage:!1,headerName:"My Parties"})},a.getParties=function(){b.a.get("https://jsonplaceholder.typicode.com/users").then(function(e){return e.data}).then(function(e){return a.setState({parties:e})})},a.fbLogoutUser=function(){window.FB.getLoginStatus(function(e){e&&"connected"===e.status&&window.FB.logout(function(e){})}),a.props.history.push("/"),localStorage.removeItem("token")},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;!function(e,t,a){var n,r=e.getElementsByTagName(t)[0];e.getElementById(a)||((n=e.createElement(t)).id=a,n.src="https://connect.facebook.net/en_US/sdk.js",r.parentNode.insertBefore(n,r))}(document,"script","facebook-jssdk"),window.fbAsyncInit=function(){window.FB.init({appId:0x814850188dbbc,xfbml:!0,version:"v3.2"})};var t="Bearer ".concat(localStorage.getItem("token"));b.a.get("http://localhost:3001/api/profile",{headers:{Authorization:t}}).then(function(t){console.log(t);var a={email:t.data.email,name:t.data.name,url:t.data.picture.data.url,wishlist:t.data.wishlist};e.setState({user:a})}),this.getParties()}},{key:"render",value:function(){var e;return this.state.showPartyPage&&(e=r.a.createElement(A,{partyList:this.state.parties,addParty:this.togglePopup})),this.state.showWishlistPage&&(e=null===this.state.user?r.a.createElement(B,null):r.a.createElement(B,{wishlist:this.state.user.wishlist})),this.state.showProfilePage&&(null===this.state.user?console.log("gregesa"):e=r.a.createElement(W,{user:this.state.user})),r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{style:{height:"100%"}},r.a.createElement(X,{trigger:null,collapsible:!0,collapsed:this.state.collapsed},r.a.createElement("div",{className:"logo"}),r.a.createElement(O.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"]},r.a.createElement(O.a.Item,{key:"1",onClick:this.showParties},r.a.createElement(S.a,{type:"star"}),r.a.createElement("span",null,"My Parties")),r.a.createElement(O.a.Item,{key:"2",onClick:this.showWishlist},r.a.createElement(S.a,{type:"gift"}),r.a.createElement("span",null,"My Wishlist")),r.a.createElement(O.a.Item,{key:"3",onClick:this.showProfile},r.a.createElement(S.a,{type:"user"}),r.a.createElement("span",null,"My Profile")))),r.a.createElement(j.a,null,r.a.createElement(V,{style:{background:"#fff",padding:0}},r.a.createElement(S.a,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),r.a.createElement("span",null,this.state.headerName)),r.a.createElement(Y,{style:{margin:"24px 16px",padding:24,background:"#fff",minHeight:280}},e,this.state.showPopup?r.a.createElement(T,{closePopup:this.togglePopup}):null))),r.a.createElement(x.a,{className:"logout",onClick:this.fbLogoutUser},"Logout"))}}]),t}(n.Component),$=Object(C.a)(Z),q=function(e){return localStorage.getItem("token")?r.a.createElement($,null):r.a.createElement(y.a,{to:"/"})},Q=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{exact:!0,path:"/",component:P}),r.a.createElement(m.a,{exact:!0,path:"/dashboard",component:q}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ee=a(247);o.a.render(r.a.createElement(ee.a,null,r.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[134,2,1]]]);
//# sourceMappingURL=main.fbfefa80.chunk.js.map